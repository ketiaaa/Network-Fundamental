<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>tia</title>
    <script src="scripts/p5.min.js"></script>
    <script src="scripts/face.js"></script>   
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="stylesheet" type="text/css" href="styles/main.css">
</head>
<body>

    <div id="scrollContainer">
    <div id="icon-scroll-id" class="icon-scroll">

    </div>
    <div id="scrollWords">
    <h2> Scroll </h2>
    </div>
  </div>
  <div id="menuOverlay">
      <a onClick="closeMenuOverlay()" ><img src="assets/hamburger_icon_close.png"/></a>
      <ul>
      <li><a onClick="closeandgo(this.id)" id="worksmallnav" href="#work">Work</a></li>
      <li><a onClick="closeandgo(this.id)" id="aboutsmallnav" href="#about">About</a></li>
      <li><a onClick="closeandgo(this.id)" id="contactsmallnav" href="#development">Contact</a></li>
      </ul>
    </div>

    <div id="can">
    </div>
    <div id="smallNav">
     <a href="#" onClick="showMenuOverlay()" ><img src="assets/hamburger_icon.png"/></a>
     <h3 id="navHeader"> Work </h3>
    </div>
  <div id="hide02">
    <div id="herotext">
        <h2> code/tech</h2>
    </div>
</div>

    <div id="hide01">
    <div id="navSplash">
     <h1> Soksophoanketia Chantha </h1>
  </div>
</div>
<div id="containerSplash">
<div id="navMain" class="navbar">
  <ul id ="navMainList">
      <li><a id="currentNav" onClick="changeID(this.id, this)" data-scroll="content" name="workBigNav" href="#"> Work </a></li>
      <li><a id="activeNav"  onClick="changeID(this.id, this)" data-scroll="about" name="aboutBigNav" href="#"> About </a></li>
      <li><a id="activeNav"  onClick="changeID(this.id, this)" data-scroll="development" name="contactBigNav" href="#"> Contact </a></li>
   </ul>
</div>

  <div id="about">
      <p> A international student from Cambodia. With interest in technology since a young age. I'm currently studying Diploma of information technology at UTS.</p>
  </div>
  <div id="development">
      <h2> insta: <a href="https://www.instagram.com/@nhomketia/">@nhomketia</a></h2>
      <h2 id="email"> email: me@soksophoanketia.com</h2>

  </div>

</div>

  </div>

    <script type="application/javascript">
      var currentScroll;
      var hasBeenScrolled = false;

        window.onscroll = function() {
          fixNav();
          currentScroll = (window.pageYOffset || document.scrollTop)  - (document.clientTop || 0);
            var aboutPos = document.getElementById("about").offsetTop;
            var aboutHeight = document.getElementById("about").clientHeight;
            if(currentScroll > aboutPos-300 && currentScroll < aboutPos+aboutHeight-90){
                navHeader.innerText = "About";
                var abBigNav = document.getElementsByName("aboutBigNav");
                changeID(activeNav, abBigNav[0])
            } else if(currentScroll >= aboutPos+aboutHeight-90) {
                navHeader.innerText = "Contact";
                var conBigNav = document.getElementsByName("contactBigNav");
                changeID(activeNav, conBigNav[0])
            } else {
                navHeader.innerText = "Work";
                var wrkBigNav = document.getElementsByName("workBigNav");
                changeID(activeNav, wrkBigNav[0])
            }
          hasBeenScrolled = true;
        };

      function getWidth() {
if (self.innerWidth) {
  return self.innerWidth;
}

if (document.documentElement && document.documentElement.clientWidth) {
  return document.documentElement.clientWidth;
}

if (document.body) {
  return document.body.clientWidth;
}
}

      var y;
      var w;
      var trigger = false;
      var navElement;
      var navElementBound;
      var navElementList;
      var contentElementBound;
      var contentY;
      var smallNavBar;
      var heroElement;
      var fading = false;
      var faded = false;
      function fixNav() {
          navElementBound = document.getElementById("navMain").getBoundingClientRect();
          navElementList = document.getElementById("navMainList");
          navElement = document.getElementById("navMain");
          y = navElementBound.top;
          w = navElementBound.width;

          contentElementBound = document.getElementById("containerSplash").getBoundingClientRect();
          contentY = contentElementBound.top;
          smallNavBar = document.getElementById("smallNav");
      if(window.outerWidth > 930){
          smallNavBar.style.display = 'none';
          if(y <= 0 && trigger == false){
            navElementList.style.position = 'fixed';
            navElementList.style.top = -1;
            navElement.style.width = w;
            trigger = true;
          } else if(y > 0 && trigger == true) {
            navElementList.style.position = 'relative';
            navElementList.style.top = 0;
            trigger = false;
          }
       }

      if(window.outerWidth <= 930){
          if(contentY <= 50){
             smallNavBar.style.display = 'block';
          } else if(contentY >= 200) {
             smallNavBar.style.display = 'none';
          }

      }

      }
      function heroFade() {
          heroElement = document.getElementById("herotext").getBoundingClientRect();
          y = heroElement.top;
          x = heroElement.left;

          var elementHero = document.getElementById("herotext");
          if(y < 300 && fading == false && faded == false){
              fadeOut(elementHero);
              fading = true;
              faded = true;
          }else if(y > 300 && faded == true && fading == false){
              fadeIn(elementHero);
              fading = true;
              faded = false;
          }

      }

      function fadeOut(element) {
          var op = 0.6;  // initial opacity
          var timer = setInterval(function () {
              if (op <= 0.01){
                  clearInterval(timer);
                  op = 0;
                  fading = false;
              }
              element.style.opacity = op;
              element.style.filter = 'alpha(opacity=' + op * 100 + ")";
              op -= op * 0.11;
           }, 50);

          }

          function fadeIn(element) {
              var op = 0.1;  // initial opacity
              var timer = setInterval(function () {
                  if (op >= 0.57){
                      clearInterval(timer);
                      op = 0.6;
                      fading = false;
                  }
              element.style.opacity = op;
              element.style.filter = 'alpha(opacity=' + op * 100 + ")";
              op += op * 0.19;
           }, 50);

          }
    </script>

<script type="application/javascript">
  // Scroll To Element Smothy with Vanilla JavaScript
var offset = 0;
var call;
var scrolling = false;


function scroll() {

  if ((offset - document.body.scrollTop) > -10 && scrolling == false) {
      if((offset - document.body.scrollTop) >= 20){
         document.body.scrollTop += 20;
      } else {
         document.body.scrollTop += offset - document.body.scrollTop;
      }

     if((offset - document.body.scrollTop) < 0){
         scrolling = true;
         startSketch();
     }
  }
  else if ((offset - document.body.scrollTop) < 0 && scrolling == false) {
      if((offset - document.body.scrollTop) <= 20){
         document.body.scrollTop -= 20;
      } else {
         document.body.scrollTop -= offset - document.body.scrollTop;
      }

     if((offset - document.body.scrollTop) > 0){
         scrolling = true;
         startSketch();
     }
  }
  else {
      clearInterval(call)
  }
};
// Add Event Listener to parent Element
document.querySelector('.navbar').addEventListener("click", reply_click);

//CallBack Function
function reply_click() {
  event.preventDefault();
  call = setInterval(scroll, 10);
  target = event.srcElement.dataset.scroll;
  offset = document.getElementById(target).offsetTop
  scrolling = false;
  pauseSketch();
}

function changeID(clicked_id, clicked_element){

  if(clicked_id != "currentNav"){
      document.getElementById("currentNav").id = "activeNav";
      clicked_element.removeAttribute("id");
      clicked_element.setAttribute("id","currentNav");
  }
}
  var onClickScroll;
function showMenuOverlay(){
  onClickScroll = currentScroll;
  document.getElementById("menuOverlay").style.display = "block";
}

function closeMenuOverlay(){
  console.log(onClickScroll);
  document.getElementById("menuOverlay").style.display = "none";
  document.body.scrollTo(0,onClickScroll);
}
function closeandgo(clickedElement){
  document.getElementById("menuOverlay").style.display = "none";
}
    </script>
</body>
</html>